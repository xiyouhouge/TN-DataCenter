package zdh.services;

import org.apache.http.HttpResponse;
import org.apache.http.client.HttpClient;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.HttpClients;
import org.apache.http.util.EntityUtils;

import java.util.HashMap;
import java.util.Map;
import java.util.Set;

public class GetClient {
    public static void main(String[] args){
        String url="/api/v1/tyre/brand/{id}/spec";
        Map<String,String> param = new HashMap<>();
        doGet(url,param);

    }

public  static String doGet(String url, Map<String,String>params){
        String result="";
    Set<String> keys=params.keySet();
    int mark =1;
    for(String name:keys){
        if(mark==1){
            url+=("?" + name + "=" + params.get(name));

        }else {
            url += ("&" + name + "="+params.get(name));
        }
        mark++;
    }
    HttpGet get = new HttpGet(url);
    HttpClient httpClient = HttpClients.createDefault();
    HttpResponse httpResponse;
    try{
        get.setHeader("authorization","Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IjcwRkYzQTE1QjcyNjczOEY0ODcyOTEyREZCNEVCMEZFQTQ3REUxRjEiLCJ0eXAiOiJKV1QiLCJ4NXQiOiJjUDg2RmJjbWM0OUljcEV0LTA2d19xUjk0ZkUifQ.eyJuYmYiOjE1NjU5MzI0MDQsImV4cCI6MTU2NTk2ODQwNCwiaXNzIjoiaHR0cHM6Ly9pZGVudGl0eS1mYXQubHVuei5jbiIsImF1ZCI6WyJodHRwczovL2lkZW50aXR5LWZhdC5sdW56LmNuL3Jlc291cmNlcyIsImFwaXBsYXQiLCJkYXRhY2VudGVyLXZlaGljbGVzLWFwaS1kZXYiLCJkYy1hcnRpY2xlcy1hcGkiLCJkYy1hcnRpY2xlcy11aS1hcGkiLCJkYy1iYXNpYy1hcGkiLCJkYy1iYXNpYy1pbnNpZGUtYXBpIiwiZGMtYmFzaWNzLW91dHNpZGUtYXBpIiwiZGMtdmVoaWNsZXMtb3V0c2lkZS1hcGkiLCJpZGVudGl0eXNlcnZlci1tYW5hZ2VtZW50LWFwaSIsImx1bnotc2hhcnAtdGVtcGxhdGUiLCJ2ZWhpY2xlLWFwaSIsInpjcC1jdXN0b21lci1hcGkiLCJ6Y3Atc3VwcGxpZXItYXBpIl0sImNsaWVudF9pZCI6ImNsaWVudDEiLCJzdWIiOiI3ZTMyODhlOC02NmJlLTRiOTAtYWE2NC1lYjkwZjRjMjc4OTYiLCJhdXRoX3RpbWUiOjE1NjU5MzI0MDQsImlkcCI6ImxvY2FsIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6IuaVsOaNruS4reW_g-euoeeQhuWRmCIsInVzZXJuYW1lIjoiZGJhZG1pbiIsIm5hbWUiOiLmlbDmja7kuK3lv4PnrqHnkIblkZgiLCJvcmdhbml6YXRpb25JZCI6ImU0OGU4ZDY4LTMxMGQtNDg0Mi1iYmRhLTk0NzlhYTFiZGM0NCIsIm9yZ2FuaXphdGlvbk5hbWUiOiLova7lrZDnp5HmioAiLCJkZXBhcnRtZW50SWQiOiJlNDhlOGQ2OC0zMTBkLTQ4NDItYmJkYS05NDc5YWExYmRjNDQiLCJkZXBhcnRtZW50TmFtZSI6Iui9ruWtkOenkeaKgCIsImF1dGhUb2tlbiI6IjllNjNiNzBiLTcyMjctNDhmMC04ZWRkLWE2YWJlMmE1ZTA5MiIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6WyI0ZjUwMDAwMC00YzRmLTAyMDAtYmI2Mi0wOGQ1YzFlOTRmNDE6Q1JN6LaF57qn566h55CG5ZGYIiwiNGY1MDAwMDAtNGM0Zi0wMjAwLTk1NTgtMDhkNWMyMWJlZjYyOkVIUuW6lOeUqOeuoeeQhuWRmCIsIjRmNTAwMDAwLTRjNGYtMDIwMC1iYmJkLTA4ZDNkNTUyOTAyNTpGQ0PlnKjogYzlkZjlt6UiLCI1ZmFjMDAwMC0zZTBhLTAwMTYtYmRjMS0wOGQ2ZDM1OWZmY2M6RklO566h55CG5ZGYIiwiNGY1MDAwMDAtNGM0Zi0wMjAwLWVkMzItMDhkNWJjOTg4OThjOktGVOW6lOeUqOeuoeeQhuWRmCIsIjRmNTAwMDAwLTRjNGYtMDIwMC0xMzQyLTA4ZDVjNmI4ZmVkODpWUFPlrqLmiLfkuK3lv4PnrqHnkIblkZgiLCI0ZjUwMDAwMC00YzRmLTAyMDAtNTc0ZS0wOGQ2MjI5M2UyMTE66LSi5YqhIiwiNGY1MDAwMDAtNGM0Zi0wMjAwLTZkODUtMDhkNjIyOTNkOWE2OumHh-i0reWRmCIsIjRmNTAwMDAwLTRjNGYtMDIwMC0wOTUyLTA4ZDYyMjkzYzg5ODrku5Plgqjpg6giLCI0ZjUwMDAwMC00YzRmLTAyMDAtYTA4Yy0wOGQ2MjI5M2Q3M2E65LuT5bqT55uR566hIiwiNWZhYzAwMDAtM2UwYS0wMDE2LWZiMWQtMDhkNjg4MWQ1OTVjOua1i-ivlSIsIjRmNTAwMDAwLTRjNGYtMDIwMC03Y2IyLTA4ZDYzN2YwZDY2NDrmtYvor5Xmt7vliqDop5LoibIiLCI1ZmFjMDAwMC0zZTBhLTAwMTYtZTc2Yi0wOGQ2ZWYwNmVjZWM66LaF57qn566h55CG5ZGYIiwiNGY1MDAwMDAtNGM0Zi0wMjAwLTZmZTYtMDhkNjE3Yjk4NjIwOui9puWKoemAmuezu-e7n-euoeeQhuWRmCIsIjRmNTAwMDAwLTRjNGYtMDIwMC1jN2Y2LTA4ZDViOTdiMjJjZTrovablnovlhbPns7vkuK3lv4PnrqHnkIblkZgiLCI0ZjUwMDAwMC00YzRmLTAyMDAtOTczNS0wOGQ2MjI5M2NmOWY65LqM57qn5LuT6LSf6LSj5Lq6IiwiNGY1MDAwMDAtNGM0Zi0wMjAwLThmOTctMDhkNjA4MDM0NmM4OueuoeeQhuWRmCIsIjRmNTAwMDAwLTRjNGYtMDIwMC03ZjA0LTA4ZDViYWZlNzIxMzrnrqHnkIblkZgiLCI1ZmFjMDAwMC0zZTBhLTAwMTYtYzc2OC0wOGQ2NzUzNjEwN2I65Z-656GA5L-h5oGv566h55CG5ZGYIiwiNGY1MDAwMDAtNGM0Zi0wMjAwLWE1ODgtMDhkMzEwZTljY2NhOueugOWOhuaKlemAkiIsIjVmYWMwMDAwLTNlMGEtMDAxNi1jNDliLTA4ZDZkODIxMTQxOTrph5HmnI3lr7notKbkuJPlkZgiLCI1ZmFjMDAwMC0zZTBhLTAwMTYtOTFlZS0wOGQ2ZDgyMTI3Yjk66YeR5pyN5byA56Wo5LiT5ZGYIiwiNWZhYzAwMDAtM2UwYS0wMDE2LWY2NjktMDhkNjg4MWQ1MGRjOuW8gOWPkSIsIjVmYWMwMDAwLTNlMGEtMDAxNi02NGUxLTA4ZDZjZDQ0Nzg4MjrlvIDlj5Hop5LoibIiLCI0ZjUwMDAwMC00YzRmLTAyMDAtMzI4Yi0wOGQ2MDNkZDhiZDE65a6i5oi356uv566h55CG6ICFIiwiNGY1MDAwMDAtNGM0Zi0wMjAwLTZhMWEtMDhkNjAzZGQ5MWQyOuWuouaIt-err-S9v-eUqOiAhSIsIjVmYWMwMDAwLTNlMGEtMDAxNi0wMTk0LTA4ZDZlOGIzYmJiMDrlrqLmiLfotJ_otKPkuroiLCI0ZjUwMDAwMC00YzRmLTAyMDAtYjlhMy0wOGQ0YmQ0MDRiYzg65a6i5oi36Zeo5bqXX2xjcm0iLCI0ZjUwMDAwMC00YzRmLTAyMDAtODQ0NS0wOGQ0ZjY3N2U3OTc65a6i5oi35Lit5b-D566h55CG5ZGYIiwiNWZhYzAwMDAtM2UwYS0wMDE2LTc5OTctMDhkNmU4YjNjMzlhOumXqOW6l-i0n-i0o-S6uiIsIjRmNTAwMDAwLTRjNGYtMDIwMC1lM2Q3LTA4ZDYwM2RkODQwODrorqTor4HkuK3lv4PnrqHnkIblkZgiLCI0ZjUwMDAwMC00YzRmLTAyMDAtYTYwOC0wOGQ2MjI5M2RmZjI66K6-5aSH6L-96LiqIiwiNGY1MDAwMDAtNGM0Zi0wMjAwLWU1NWQtMDhkNjIyOTNkY2YwOueUn-S6p-S4k-WRmCIsIjRmNTAwMDAwLTRjNGYtMDIwMC0xODBmLTA4ZDYyMjkzZDQyNTrlrp7kvZPku5PnrqHnkIblkZgiLCI0ZjUwMDAwMC00YzRmLTAyMDAtNzJkNC0wOGQ1ZjJkMzllZGY65pWw5o2u5Lit5b-DUkQt566h55CG5ZGYIiwiNGY1MDAwMDAtNGM0Zi0wMjAwLTQwN2QtMDhkNjI0ZmM3ZTc1OuaVsOaNruS4reW_g-euoeeQhuWRmCIsIjcxNzVkMDA0LWUwOWQtNGJhOS04ZGYwLTQ0ZTQ0M2QyMjdhMzrmlbDmja7kuK3lv4PnrqHnkIblkZgiLCI1ZmFjMDAwMC0zZTBhLTAwMTYtYjJkMy0wOGQ2NTVhNDg5MGI65paH56ug5L-h5oGv566h55CG5ZGYIiwiNWZhYzAwMDAtM2UwYS0wMDE2LTYzMTUtMDhkNmQ4MjBmZDMxOumUgOWUriIsIjVmYWMwMDAwLTNlMGEtMDAxNi0yMGFiLTA4ZDY3N2M3NzBhNzrmvJTnpLoiLCI1ZmFjMDAwMC0zZTBhLTAwMTYtZTVjYi0wOGQ2ODgxZDc1ZTI65ryU56S6IiwiNGY1MDAwMDAtNGM0Zi0wMjAwLThjNzQtMDhkNjIyOTNjY2E2OuS4gOe6p-S7k-i0n-i0o-S6uiIsIjRmNTAwMDAwLTRjNGYtMDIwMC1kYTcxLTA4ZDVhYmQ4NDMzYTrlupTnlKjotoXnuqfnrqHnkIblkZgiLCI5NDgzZmU0YS01YTg1LTQ1NTctYmFiOS1iNzQ3MTgxYjU2MjM655So5oi35Lit5b-D566h55CG5ZGYIiwiNGY1MDAwMDAtNGM0Zi0wMjAwLWIyNTQtMDhkNjIyOTNjMzFjOui_kOe7tCIsIjVmYWMwMDAwLTNlMGEtMDAxNi0wMzFjLTA4ZDZkODIwZWVlNDrlnKjogYzlkZjlt6UiLCI0ZjUwMDAwMC00YzRmLTAyMDAtZjI3Mi0wOGQ2MDNkZDg4YTI66LWE5rqQ5o-Q5L6b6ICFIl0sImx1bnotc2hhcnAtdGVtcGxhdGUiOiIxLTQiLCJzY29wZSI6WyJvcGVuaWQiLCJwcm9maWxlIiwiYXBpcGxhdCIsImRhdGFjZW50ZXItdmVoaWNsZXMtYXBpLWRldiIsImRjLWFydGljbGVzLWFwaSIsImRjLWFydGljbGVzLXVpLWFwaSIsImRjLWJhc2ljLWFwaSIsImRjLWJhc2ljLWluc2lkZS1hcGkiLCJkYy1iYXNpY3Mtb3V0c2lkZS1hcGkiLCJkYy12ZWhpY2xlcy1vdXRzaWRlLWFwaSIsImlkZW50aXR5c2VydmVyLW1hbmFnZW1lbnQtYXBpIiwibHVuei1zaGFycC10ZW1wbGF0ZSIsInZlaGljbGUtYXBpIiwiemNwLWN1c3RvbWVyLWFwaSIsInpjcC1zdXBwbGllci1hcGkiLCJvZmZsaW5lX2FjY2VzcyJdLCJhbXIiOlsicHdkIl19.ewp1u5LZY-vALgZ1NXXZjBOdmZqSN1yj1MFFs-RefCwijdJtbrD9CdXLV560Y84uscESuMR_YY34-z0-YKUJv8rPttfWx4nbpl7jPpzKyc5inf3EdXR7fM7DabKaN9bhs9zQgDxdtK5io0oxK18T-aIwVtLX7AoolCHjgumV5JWYYDnSnl2CKnNEu7GxWwH_kbmDAFFnOcLz6d-dGRRD36jrV_0dfjS2DSMFyfmtS6-io-gRHMqEOeR2B1LRQwNTFLGGX7LvHSiW3wVI81UPn67_e-IYkqrgeVf9AJBwPStLKhn3NgBvEVo8cm-e4BZOhcloDtw4jAn19Hl_nidhUg");
        httpResponse = httpClient.execute(get);
        int code = httpResponse.getStatusLine().getStatusCode();
        System.out.println(code);
        result = EntityUtils.toString(httpResponse.getEntity());

    }catch (Exception e){
        e.printStackTrace();
    }
    System.out.println("返回结果为"+result);
   return result;
}
}
